---
source: starstream-compiler/src/typecheck/tests.rs
description: "Source:\n\nfn test(r: Result<i64, i64>) -> i64 {\n    match r {\n        Result::Ok(value) => {\n            value\n        },\n        Result::Err(code) => {\n            0 - code\n        },\n    }\n}\n"
---
T-Fn: test => i64
  T-ReturnTail: match r {
    Result::Ok(value) => {
        value
    },
    Result::Err(code) => {
        0 - code
    },
} => i64
    T-Match: {r: enum Result<i64, i64> {
    Ok(i64),
    Err(i64),
}} ⊢ match r {
    Result::Ok(value) => {
        value
    },
    Result::Err(code) => {
        0 - code
    },
} ⇒ i64
      T-Var: {r: enum Result<i64, i64> {
    Ok(i64),
    Err(i64),
}} ⊢ r ⇒ Result<i64, i64>
      Unify-Enum: Result<i64, i64> ~ Result<t3, t4> => {i64/t3, i64/t4}
        Unify-Var: i64 ~ t4 => {i64/t4}
        Unify-Var: i64 ~ t3 => {i64/t3}
      T-Tail: value => t3
        T-Var: {r: enum Result<i64, i64> {
    Ok(i64),
    Err(i64),
}, value: t3} ⊢ value ⇒ t3
      Unify-Enum: Result<i64, i64> ~ Result<t5, t6> => {i64/t5, i64/t6}
        Unify-Var: i64 ~ t6 => {i64/t6}
        Unify-Var: i64 ~ t5 => {i64/t5}
      T-Tail: 0 - code => i64
        T-Bin-Sub: {code: t6, r: enum Result<i64, i64> {
    Ok(i64),
    Err(i64),
}} ⊢ 0 - code ⇒ i64
          T-Int: {code: t6, r: enum Result<i64, i64> {
    Ok(i64),
    Err(i64),
}} ⊢ 0 ⇒ i64
          T-Var: {code: t6, r: enum Result<i64, i64> {
    Ok(i64),
    Err(i64),
}} ⊢ code ⇒ t6
          Unify-Const: i64 ~ i64 => {}
          Unify-Const: i64 ~ i64 => {}
      Unify-Const: i64 ~ i64 => i64
    Unify-Const: i64 ~ i64 => {}
