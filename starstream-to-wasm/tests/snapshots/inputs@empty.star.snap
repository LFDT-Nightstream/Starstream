---
source: starstream-to-wasm/tests/snapshots.rs
input_file: starstream-to-wasm/tests/inputs/empty.star
---
==== AST ====
Program {
    shebang: Some(
        Comment(
            0..12,
        ),
    ),
    definitions: [
        Spanned {
            node: Function(
                FunctionDef {
                    export: Some(
                        Script,
                    ),
                    name: Identifier {
                        name: "main",
                        span: Some(
                            22..26,
                        ),
                    },
                    params: [],
                    return_type: None,
                    body: Block {
                        statements: [],
                        tail_expression: None,
                    },
                },
            ),
            span: 12..33,
            comments_before: [],
            comments_after: [],
        },
    ],
}

==== Inference trace ====
T-Fn: main => ()

==== Typed AST ====
TypedProgram {
    definitions: [
        Function(
            TypedFunctionDef {
                export: Some(
                    Script,
                ),
                name: Identifier {
                    name: "main",
                    span: Some(
                        22..26,
                    ),
                },
                params: [],
                return_type: Unit,
                effect: Pure,
                body: TypedBlock {
                    statements: [],
                    tail_expression: None,
                },
            },
        ),
    ],
}

==== Core WebAssembly ====
(module
  (type (;0;) (func))
  (export "main" (func 0))
  (func (;0;) (type 0))
  (@custom "component-type"
    (component
      (@custom "wit-component-encoding" "\04\00")
      (type (;0;)
        (component
          (type (;0;)
            (component
              (type (;0;) (func))
              (export (;0;) "main" (func (type 0)))
            )
          )
          (export (;0;) "my-namespace:my-package/my-world" (component (type 0)))
        )
      )
      (export (;1;) "x" (type 0))
    )
  )
)

==== WIT ====
package root:component;

world root {
  export main: func();
}
