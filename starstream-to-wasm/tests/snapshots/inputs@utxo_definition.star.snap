---
source: starstream-to-wasm/tests/snapshots.rs
input_file: starstream-to-wasm/tests/inputs/utxo_definition.star
---
==== AST ====
Program {
    definitions: [
        Enum(
            EnumDef {
                name: Identifier {
                    name: "Message",
                    span: Some(
                        5..12,
                    ),
                },
                variants: [
                    EnumVariant {
                        name: Identifier {
                            name: "Ping",
                            span: Some(
                                19..23,
                            ),
                        },
                        payload: Unit,
                    },
                    EnumVariant {
                        name: Identifier {
                            name: "Pong",
                            span: Some(
                                29..33,
                            ),
                        },
                        payload: Tuple(
                            [
                                TypeAnnotation {
                                    name: Identifier {
                                        name: "i64",
                                        span: Some(
                                            34..37,
                                        ),
                                    },
                                    generics: [],
                                },
                            ],
                        ),
                    },
                ],
            },
        ),
    ],
}

==== Inference trace ====
:  => 

==== Typed AST ====
TypedProgram {
    definitions: [
        Enum(
            TypedEnumDef {
                name: Identifier {
                    name: "Message",
                    span: Some(
                        5..12,
                    ),
                },
                variants: [
                    TypedEnumVariant {
                        name: Identifier {
                            name: "Ping",
                            span: Some(
                                19..23,
                            ),
                        },
                        payload: Unit,
                    },
                    TypedEnumVariant {
                        name: Identifier {
                            name: "Pong",
                            span: Some(
                                29..33,
                            ),
                        },
                        payload: Tuple(
                            [
                                Int,
                            ],
                        ),
                    },
                ],
                ty: Enum(
                    EnumType {
                        name: "Message",
                        variants: [
                            EnumVariantType {
                                name: "Ping",
                                kind: Unit,
                            },
                            EnumVariantType {
                                name: "Pong",
                                kind: Tuple(
                                    [
                                        Int,
                                    ],
                                ),
                            },
                        ],
                    },
                ),
            },
        ),
    ],
}

==== Core WebAssembly ====
  x TODO: enums are not supported in Wasm yet
   ,-[1:1]
 1 | enum Message {
   : ^
   : `-- TODO: enums are not supported in Wasm yet
 2 |     Ping,
   `----
