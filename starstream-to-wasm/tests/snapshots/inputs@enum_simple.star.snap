---
source: starstream-to-wasm/tests/snapshots.rs
input_file: starstream-to-wasm/tests/inputs/utxo_definition.star
---
==== AST ====
Program {
    shebang: None,
    definitions: [
        Spanned {
            node: Enum(
                EnumDef {
                    name: Identifier {
                        name: "Message",
                        span: Some(
                            5..12,
                        ),
                    },
                    variants: [
                        EnumVariant {
                            name: Identifier {
                                name: "Ping",
                                span: Some(
                                    19..23,
                                ),
                            },
                            payload: Unit,
                            span: 19..23,
                        },
                        EnumVariant {
                            name: Identifier {
                                name: "Pong",
                                span: Some(
                                    29..33,
                                ),
                            },
                            payload: Tuple(
                                [
                                    TypeAnnotation {
                                        name: Identifier {
                                            name: "i64",
                                            span: Some(
                                                34..37,
                                            ),
                                        },
                                        generics: [],
                                    },
                                ],
                            ),
                            span: 29..38,
                        },
                    ],
                },
            ),
            span: 0..42,
        },
    ],
}

==== Inference trace ====

==== Typed AST ====
TypedProgram {
    definitions: [
        Enum(
            TypedEnumDef {
                name: Identifier {
                    name: "Message",
                    span: Some(
                        5..12,
                    ),
                },
                variants: [
                    TypedEnumVariant {
                        name: Identifier {
                            name: "Ping",
                            span: Some(
                                19..23,
                            ),
                        },
                        payload: Unit,
                    },
                    TypedEnumVariant {
                        name: Identifier {
                            name: "Pong",
                            span: Some(
                                29..33,
                            ),
                        },
                        payload: Tuple(
                            [
                                Int,
                            ],
                        ),
                    },
                ],
                ty: Enum(
                    EnumType {
                        name: "Message",
                        variants: [
                            EnumVariantType {
                                name: "Ping",
                                kind: Unit,
                            },
                            EnumVariantType {
                                name: "Pong",
                                kind: Tuple(
                                    [
                                        Int,
                                    ],
                                ),
                            },
                        ],
                    },
                ),
            },
        ),
    ],
}

==== Core WebAssembly ====
(module
  (@custom "component-type"
    (component
      (@custom "wit-component-encoding" "\04\00")
      (type (;0;)
        (component
          (type (;0;)
            (component
              (type (;0;) (tuple s64))
              (type (;1;) (variant (case "ping") (case "pong" 0)))
              (import "message" (type (;2;) (eq 1)))
            )
          )
          (export (;0;) "my-namespace:my-package/my-world" (component (type 0)))
        )
      )
      (export (;1;) "x" (type 0))
    )
  ))

==== WIT ====
package root:component;

world root {
  variant message {
    ping,
    pong(tuple<s64>),
  }
}
